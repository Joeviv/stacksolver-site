---
import EstimateTemplate from "../../../components/templates/EstimateTemplate.astro";

// COLORES DE ESTADO
// Green: bg-emerald-100 text-emerald-800 border-emerald-200
// Yellow: bg-amber-100 text-amber-800 border-amber-200
// Red: bg-red-100 text-red-800 border-red-200
// Gray (Pending): bg-zinc-100 text-zinc-800 border-zinc-200

---

<EstimateTemplate
  clientName="Fundaci√≥n Genfami"
  projectName="Tablero de Gobierno y Control de Proyectos"
  date="2026-02-05"
  status="Active"
  hideHeader={true}
>
  <div class="max-w-6xl mx-auto text-zinc-800 dark:text-zinc-200">
    
    <!-- HEADER ALERT -->
    <div class="bg-amber-50 dark:bg-amber-900/10 border-l-4 border-amber-500 p-4 mb-8">
        <div class="flex items-start">
            <div class="ml-3">
                <h3 class="text-sm font-medium text-amber-800 dark:text-amber-200">Punto de Verdad √önico</h3>
                <div class="mt-2 text-sm text-amber-700 dark:text-amber-300">
                    <p>Este tablero refleja el <strong>estado real y acordado</strong> de los 3 frentes de trabajo. Cualquier solicitud o cambio que no est√© registrado en la secci√≥n "Bit√°cora de Cambios" se considera <strong>fuera del alcance</strong> actual.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- T√çTULO -->
    <section class="mb-10 border-b border-zinc-200 dark:border-zinc-800 pb-6">
        <h1 class="text-3xl font-bold mb-2 text-zinc-900 dark:text-white">Frente de Trabajo Unificado: StackSolver <> Genfami</h1>
        <p class="text-zinc-500">Actualizado: {new Date().toLocaleDateString('es-CO', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</p>
    </section>

    <!-- RESUMEN EJECUTIVO (KPIs) -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-12">
        <!-- KPI 1 -->
        <div class="bg-white dark:bg-zinc-900 p-4 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm flex items-center justify-between">
            <div>
                <p class="text-xs text-zinc-500 uppercase font-semibold">Proyecto 1: Moodle LMS</p>
                <p class="text-lg font-bold text-emerald-600">En Curso</p>
            </div>
            <div class="h-3 w-3 rounded-full bg-emerald-500 animate-pulse"></div>
        </div>
        <!-- KPI 2 -->
        <div class="bg-white dark:bg-zinc-900 p-4 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm flex items-center justify-between">
            <div>
                <p class="text-xs text-zinc-500 uppercase font-semibold">Proyecto 2: Data (Looker)</p>
                <p class="text-lg font-bold text-amber-600">Revisi√≥n Requerida</p>
            </div>
            <div class="h-3 w-3 rounded-full bg-amber-500"></div>
        </div>
        <!-- KPI 3 -->
        <div class="bg-white dark:bg-zinc-900 p-4 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm flex items-center justify-between">
            <div>
                <p class="text-xs text-zinc-500 uppercase font-semibold">Proyecto 3: ERP Claris</p>
                <p class="text-lg font-bold text-red-600">Bloqueado / Definici√≥n</p>
            </div>
             <div class="h-3 w-3 rounded-full bg-red-500"></div>
        </div>
    </div>

    <!-- PROYECTO 1: MOODLE (LMS) -->
    <section class="mb-12">
        <h2 class="text-xl font-bold mb-4 flex items-center gap-2 text-zinc-900 dark:text-white">
            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">Frente 1</span> 
            Implementaci√≥n Cursos LMS (Moodle)
        </h2>
        
        <div class="overflow-hidden rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm">
            <table class="w-full text-sm text-left">
                <thead class="bg-zinc-50 dark:bg-zinc-800">
                    <tr>
                        <th class="px-6 py-3 font-medium text-zinc-500 dark:text-zinc-400">Entregable (Curso)</th>
                        <th class="px-6 py-3 font-medium text-zinc-500 dark:text-zinc-400">Estado</th>
                        <th class="px-6 py-3 font-medium text-zinc-500 dark:text-zinc-400">Responsable Actual</th>
                        <th class="px-6 py-3 font-medium text-zinc-500 dark:text-zinc-400">Fecha Estimada</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-zinc-200 dark:divide-zinc-700 bg-white dark:bg-zinc-900">
                    <!-- Curso 1 -->
                    <tr>
                        <td class="px-6 py-4 font-medium">1. Curso Inducci√≥n General</td>
                        <td class="px-6 py-4"><span class="bg-emerald-100 text-emerald-800 px-2 py-1 rounded text-xs border border-emerald-200">‚úÖ Completado</span></td>
                        <td class="px-6 py-4 text-zinc-500">StackSolver</td>
                        <td class="px-6 py-4">Entregado</td>
                    </tr>
                    <!-- Curso 2 -->
                    <tr>
                        <td class="px-6 py-4 font-medium">2. Curso Habilidades Blandas</td>
                        <td class="px-6 py-4"><span class="bg-emerald-100 text-emerald-800 px-2 py-1 rounded text-xs border border-emerald-200">üöÄ En Desarrollo</span></td>
                        <td class="px-6 py-4 text-blue-600 font-bold">StackSolver (Cargando)</td>
                        <td class="px-6 py-4">Feb 15</td>
                    </tr>
                    <!-- Curso 3 -->
                    <tr>
                        <td class="px-6 py-4 font-medium">3. Curso Normativa 2026</td>
                        <td class="px-6 py-4"><span class="bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs border border-amber-200">‚ö†Ô∏è Esperando Contenido</span></td>
                        <td class="px-6 py-4 text-red-600 font-bold">Genfami (Env√≠o Material)</td>
                        <td class="px-6 py-4">Detenido</td>
                    </tr>
                     <!-- Curso 4 -->
                    <tr>
                        <td class="px-6 py-4 font-medium">4. Curso Seguridad SST</td>
                        <td class="px-6 py-4"><span class="bg-zinc-100 text-zinc-800 px-2 py-1 rounded text-xs border border-zinc-200">‚è≥ Pendiente</span></td>
                        <td class="px-6 py-4">StackSolver</td>
                        <td class="px-6 py-4">Por Iniciar</td>
                    </tr>
                    <!-- Curso 5 -->
                     <tr>
                        <td class="px-6 py-4 font-medium">5. Curso Liderazgo</td>
                        <td class="px-6 py-4"><span class="bg-zinc-100 text-zinc-800 px-2 py-1 rounded text-xs border border-zinc-200">‚è≥ Pendiente</span></td>
                        <td class="px-6 py-4">StackSolver</td>
                        <td class="px-6 py-4">Por Iniciar</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- PROYECTO 2: LOOKER (DATA) -->
    <section class="mb-12">
        <h2 class="text-xl font-bold mb-4 flex items-center gap-2 text-zinc-900 dark:text-white">
             <span class="bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full">Frente 2</span>
            Mapeo & Visualizaci√≥n (Looker Studio)
        </h2>
        
        <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800">
                <h3 class="font-bold mb-2">Estado Actual</h3>
                <p class="text-sm text-zinc-600 dark:text-zinc-400 mb-4">
                    Se ha estructurado la conexi√≥n de datos, pero existen inconsistencias en la fuente (Excels planos) que impiden la visualizaci√≥n autom√°tica.
                </p>
                <div class="bg-amber-50 p-3 rounded border border-amber-200 text-xs text-amber-800">
                    <strong>Bloqueante:</strong> Necesitamos validaci√≥n del formato de fecha en los archivos fuente por parte de TI Genfami.
                </div>
            </div>
            
            <div class="bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800 overflow-hidden">
                 <table class="w-full text-sm">
                    <thead class="bg-zinc-50 dark:bg-zinc-800">
                        <tr>
                            <th class="px-4 py-2 text-left">Hito</th>
                            <th class="px-4 py-2">Estado</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y">
                        <tr>
                            <td class="px-4 py-2">Conexi√≥n Fuentes</td>
                            <td class="px-4 py-2 text-center text-emerald-600">‚úÖ Listo</td>
                        </tr>
                         <tr>
                            <td class="px-4 py-2">Limpieza de Datos</td>
                            <td class="px-4 py-2 text-center text-amber-600">‚ö†Ô∏è En Revisi√≥n</td>
                        </tr>
                         <tr>
                            <td class="px-4 py-2">Dashboard V1</td>
                            <td class="px-4 py-2 text-center text-zinc-400">‚è≥ Pendiente</td>
                        </tr>
                    </tbody>
                 </table>
            </div>
        </div>
    </section>

    <!-- PROYECTO 3: ERP CLARIS -->
    <section class="mb-12">
        <h2 class="text-xl font-bold mb-4 flex items-center gap-2 text-zinc-900 dark:text-white">
             <span class="bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full">Frente 3</span>
            ERP Gesti√≥n (Claris FileMaker)
        </h2>
        <!-- Alerta de Bloqueo -->
        <div class="bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-900/30 rounded-lg p-6 mb-8">
            <h3 class="font-bold text-blue-800 dark:text-blue-300 mb-2">üöÄ Plan de Activaci√≥n (Febrero 6 - 19)</h3>
            <p class="text-sm text-zinc-700 dark:text-zinc-300">
                Se ha definido un cronograma estricto para iniciar la operaci√≥n t√©cnica y capacitaci√≥n. El avance depende del cumplimiento puntual de los requisitos previos por parte de Genfami (Usuarios y Claris Studio).
            </p>
        </div>

        <div class="overflow-hidden rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm">
            <table class="w-full text-sm text-left">
                <thead class="bg-zinc-50 dark:bg-zinc-800">
                    <tr>
                        <th class="px-6 py-3 font-medium text-zinc-500 dark:text-zinc-400 w-12">#</th>
                        <th class="px-6 py-3 font-medium text-zinc-500 dark:text-zinc-400">Actividad / Hito T√©cnica</th>
                        <th class="px-6 py-3 font-medium text-zinc-500 dark:text-zinc-400">Fecha Clave</th>
                        <th class="px-6 py-3 font-medium text-zinc-500 dark:text-zinc-400">Responsable / Dependencia</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-zinc-200 dark:divide-zinc-700 bg-white dark:bg-zinc-900">
                    <!-- Hito 0 -->
                    <tr class="bg-blue-50/50 dark:bg-blue-900/10">
                        <td class="px-6 py-4 font-bold text-blue-600">0</td>
                        <td class="px-6 py-4 font-bold">Inicio Grupo T√©cnico</td>
                        <td class="px-6 py-4 font-bold text-blue-600">Vie 06 Feb</td>
                        <td class="px-6 py-4">Alineaci√≥n Equipos</td>
                    </tr>
                    <!-- Tarea 1 -->
                    <tr>
                        <td class="px-6 py-4 text-zinc-500">1</td>
                        <td class="px-6 py-4">Definici√≥n de 4 Usuarios (Correos + Roles)</td>
                        <td class="px-6 py-4">Inmediato</td>
                        <td class="px-6 py-4 font-bold text-red-600">Genfami (Prerrequisito)</td>
                    </tr>
                    <!-- Tarea 2 -->
                    <tr>
                        <td class="px-6 py-4 text-zinc-500">2</td>
                        <td class="px-6 py-4">Activaci√≥n Claris Studio (Configurar cuenta info@genfami.org)</td>
                        <td class="px-6 py-4">Inmediato</td>
                        <td class="px-6 py-4"><span class="text-zinc-500">StackSolver / Genfami</span></td>
                    </tr>
                    <!-- Tarea 3 -->
                    <tr>
                        <td class="px-6 py-4 text-zinc-500">3</td>
                        <td class="px-6 py-4">Instalaci√≥n Software en 4 Equipos</td>
                        <td class="px-6 py-4">09 - 12 Feb</td>
                        <td class="px-6 py-4 text-zinc-500">StackSolver (Requiere Tarea 1)</td>
                    </tr>
                    <!-- Tarea 4 -->
                     <tr>
                        <td class="px-6 py-4 text-zinc-500">4</td>
                        <td class="px-6 py-4 font-medium text-emerald-700">Inicio Capacitaciones</td>
                        <td class="px-6 py-4 font-bold text-emerald-700">Vie 13 Feb</td>
                        <td class="px-6 py-4">StackSolver</td>
                    </tr>
                    <!-- Tarea 5 -->
                     <tr>
                        <td class="px-6 py-4 text-zinc-500">5</td>
                        <td class="px-6 py-4">Capacitaci√≥n: Carga de Datos Stakeholders</td>
                        <td class="px-6 py-4 text-zinc-400">Post-Inicio</td>
                        <td class="px-6 py-4 text-amber-600">Requiere Claris Studio (Tarea 2)</td>
                    </tr>
                     <!-- Tarea 6 -->
                     <tr>
                        <td class="px-6 py-4 text-zinc-500">6</td>
                        <td class="px-6 py-4">Capacitaci√≥n: Formularios Proveedores/Clientes (Studio)</td>
                        <td class="px-6 py-4">Mar 17 Feb</td>
                        <td class="px-6 py-4">StackSolver</td>
                    </tr>
                     <!-- Tarea 7 -->
                     <tr>
                        <td class="px-6 py-4 text-zinc-500">7</td>
                        <td class="px-6 py-4">Capacitaci√≥n: Gesti√≥n de Proyectos B√°sica</td>
                        <td class="px-6 py-4">Mi√© 18 Feb</td>
                        <td class="px-6 py-4">StackSolver</td>
                    </tr>
                     <!-- Tarea 8 -->
                     <tr>
                        <td class="px-6 py-4 text-zinc-500">8</td>
                        <td class="px-6 py-4">Capacitaci√≥n: Transacciones Recurrentes (Financiera)</td>
                        <td class="px-6 py-4">Jue 19 Feb</td>
                        <td class="px-6 py-4">StackSolver</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- BIT√ÅCORA DE CAMBIOS (SCOPE CREEP) -->
    <section class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-zinc-900 dark:text-white border-b pb-2">Control de Cambios y Alcance</h2>
        <p class="mb-4 text-sm text-zinc-600">
            Registro de solicitudes que <strong>no estaban en la cotizaci√≥n original</strong>. Estas solicitudes est√°n sujetas a cotizaci√≥n adicional o intercambio de horas.
        </p>

        <div class="overflow-x-auto rounded-lg border border-zinc-200 dark:border-zinc-800">
            <table class="w-full text-sm text-left">
                <thead class="bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300">
                    <tr>
                        <th class="px-4 py-3">Fecha Solicitud</th>
                        <th class="px-4 py-3">Descripci√≥n del Cambio</th>
                        <th class="px-4 py-3">Solicitado Por</th>
                        <th class="px-4 py-3">Impacto</th>
                        <th class="px-4 py-3">Estado</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-zinc-200 dark:divide-zinc-700 bg-white dark:bg-zinc-900">
                    <tr>
                        <td class="px-4 py-3 text-zinc-500">Feb 02</td>
                        <td class="px-4 py-3">Agregar m√≥dulo de "Encuestas" al LMS</td>
                        <td class="px-4 py-3">Coord. Talento</td>
                        <td class="px-4 py-3 text-red-600 font-medium">+10 Horas Dev</td>
                        <td class="px-4 py-3"><span class="bg-zinc-200 text-zinc-700 px-2 py-1 rounded text-xs">Pendiente Cotizar</span></td>
                    </tr>
                    <tr>
                        <td class="px-4 py-3 text-zinc-500">Ene 28</td>
                        <td class="px-4 py-3">Cambio de colores en Looker a nueva marca</td>
                        <td class="px-4 py-3">Gerencia</td>
                        <td class="px-4 py-3 text-amber-600 font-medium">+2 Horas Dise√±o</td>
                        <td class="px-4 py-3"><span class="bg-emerald-100 text-emerald-800 px-2 py-1 rounded text-xs">Aprobado / Bonificado</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

  </div>
</EstimateTemplate>
